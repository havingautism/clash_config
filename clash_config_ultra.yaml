#==========================================
# @ConfigName        havingautismè‡ªç”¨Clashé…ç½®æ–‡ä»¶Ultraç‰ˆ
# @Author            @havingautism
# @UpdateTime        2025/04/01 
# @ClashVerge        https://github.com/clash-verge-rev/clash-verge-rev/releases
# @Thanks            @blackmatrix7
#==========================================
mixed-port: 7890
socks-port: 7891
allow-lan: true
mode: rule
log-level: info
external-controller: :9090
proxy-providers:
  Airport01:
    type: http
    url: 'å¡«å…¥è‡ªå·±æœºåœº1çš„è®¢é˜…åœ°å€'
    interval: 86400
    path: ./Airport01.yaml
    health-check:
      enable: true
      interval: 600
      url: http://cp.cloudflare.com/generate_204

  Airport02:
    type: http
    url: 'å¡«å…¥è‡ªå·±æœºåœº2çš„è®¢é˜…åœ°å€'
    interval: 86400
    path: ./Airport02.yaml
    health-check:
      enable: true
      interval: 600
      url: http://cp.cloudflare.com/generate_204 

dns:
  enable: true
  prefer-h3: true
  listen: 127.0.0.1:53
  ipv6: true
  nameserver-policy:
    "geosite: cn,private,Apple":
      - https://223.5.5.5/dns-query#h3=true
      - https://223.6.6.6/dns-query#h3=true
    "rule-set:China,SteamCN,GameDownloadCN,ChinaMedia":
      - https://223.5.5.5/dns-query#h3=true
      - https://223.6.6.6/dns-query#h3=true
  nameserver:
    - https://1.1.1.1/dns-query#PROXY&h3=true
    - https://1.0.0.1/dns-query#PROXY&h3=true
    - https://8.8.8.8/dns-query#PROXY&h3=true
    - https://8.8.4.4/dns-query#PROXY&h3=true
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query#h3=true
    - https://223.6.6.6/dns-query#h3=true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*"
    - "+.lan"
    - "+.local"

# proxies: []
proxy-groups:
  - name: èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - æµåª’ä½“èŠ‚ç‚¹
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - è‹±å›½èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
      - DIRECT
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Available.png

  - name: æ‰‹åŠ¨åˆ‡æ¢
    type: select
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Server.png
    use: [Airport01,Airport02]

  - name: æµåª’ä½“èŠ‚ç‚¹é€‰æ‹©
    type: select
    proxies:
      - æµåª’ä½“èŠ‚ç‚¹
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - è‹±å›½èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
      - DIRECT
    # icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Auto.png
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Available_1.png

  - name: æµåª’ä½“èŠ‚ç‚¹
    type: select
    use: [Airport01,Airport02]
    filter: 0.2|0.3|å®éªŒæ€§
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/ForeignMedia.png

  - name: é¦™æ¸¯èŠ‚ç‚¹
    type: select
    use: [Airport01,Airport02]
    filter: æ¸¯|ğŸ‡­ğŸ‡°|é¦™æ¸¯|HK|Hong
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Hong_Kong.png

  - name: ç¾å›½èŠ‚ç‚¹
    type: select
    filter: ç¾|ğŸ‡ºğŸ‡¸|ç¾å›½|US|States|American
    use: [Airport01,Airport02]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_States.png
  
  # - name: è‡ªåŠ¨é€‰æ‹©
  #   type: url-test
  #   url: http://www.gstatic.com/generate_204
  #   interval: 300
  #   tolerance: 50
  #   use: [Airport01,Airport02]
  #   icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Available_1.png

  - name: å›½å¤–è§†é¢‘
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - æµåª’ä½“èŠ‚ç‚¹é€‰æ‹©
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
      - DIRECT
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Netflix.png
    
  - name: Google
    type: select
    proxies:
      - DIRECT
      - èŠ‚ç‚¹é€‰æ‹©
      - ç¾å›½èŠ‚ç‚¹
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Google_Search.png
    
  - name: Github
    type: select
    proxies:
      - DIRECT
      - èŠ‚ç‚¹é€‰æ‹©
      - ç¾å›½èŠ‚ç‚¹
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/GitHub.png

  - name: Telegram
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - æµåª’ä½“èŠ‚ç‚¹é€‰æ‹©
      - ç‹®åŸèŠ‚ç‚¹
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
      - DIRECT
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Telegram.png

  - name: AI
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - ç‹®åŸèŠ‚ç‚¹
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
      - DIRECT
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Copilot.png

  - name: Steam
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - æµåª’ä½“èŠ‚ç‚¹é€‰æ‹©
      - ç‹®åŸèŠ‚ç‚¹
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
      - DIRECT
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Steam.png
  
  - name: Instagram
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - æµåª’ä½“èŠ‚ç‚¹é€‰æ‹©
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - éŸ©å›½èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Instagram.png
  
  - name: Twitter
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - æµåª’ä½“èŠ‚ç‚¹é€‰æ‹©
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Twitter.png


  - name: Microsoft
    type: select
    proxies:
      - DIRECT
      - èŠ‚ç‚¹é€‰æ‹©
      - ç¾å›½èŠ‚ç‚¹
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Microsoft.png

  - name: Apple
    type: select
    proxies:
      - DIRECT
      - èŠ‚ç‚¹é€‰æ‹©
      - ç¾å›½èŠ‚ç‚¹
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Apple.png

  - name: æ¼ç½‘ä¹‹é±¼
    type: select
    proxies:
      - èŠ‚ç‚¹é€‰æ‹©
      - DIRECT
      - é¦™æ¸¯èŠ‚ç‚¹
      - å°æ¹¾èŠ‚ç‚¹
      - ç‹®åŸèŠ‚ç‚¹
      - æ—¥æœ¬èŠ‚ç‚¹
      - ç¾å›½èŠ‚ç‚¹
      - è‹±å›½èŠ‚ç‚¹
      - æ‰‹åŠ¨åˆ‡æ¢
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Final.png

  - name: æ—¥æœ¬èŠ‚ç‚¹
    type: select
    filter: æ—¥|ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|JP|Japan
    use: [Airport01,Airport02]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Japan.png


  - name: å°æ¹¾èŠ‚ç‚¹
    type: select
    filter: å°|ğŸ‡¨ğŸ‡³|å°æ¹¾|TW|Tai
    use: [Airport01,Airport02]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Taiwan.png

  - name: ç‹®åŸèŠ‚ç‚¹
    type: select
    filter: å¡|ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®åŸ|SG|Singapore
    use: [Airport01,Airport02]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Singapore.png

  - name: è‹±å›½èŠ‚ç‚¹
    type: select
    filter: ğŸ‡¬ğŸ‡§|è‹±å›½|è‹±|è‹±æ ¼å…°|UK|United Kingdom
    use: [Airport01,Airport02]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/United_Kingdom.png

  - name: éŸ©å›½èŠ‚ç‚¹
    type: select
    filter: ğŸ‡°ğŸ‡·|éŸ©|KR|KOR|Korea
    use: [Airport01,Airport02]
    icon: https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/Korea.png


rule-providers:
  Github:
    type: http
    behavior: classical
    path: ./ruleset/Github.yaml
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GitHub/GitHub.yaml
    interval: 86400
  Apple:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Apple.yaml
    path: ./ruleset/Apple.yaml
    interval: 86400
  China:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/China/China_Classical.yaml
    path: ./ruleset/China_Classical.yaml
    interval: 86400
  ChinaIPs:
    type: http
    behavior: ipcidr
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaIPs/ChinaIPs_IP.yaml
    path: ./ruleset/ChinaIPs_IP.yaml
    interval: 86400
  Google:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Google/Google.yaml
    path: ./ruleset/GoogleFCM.yaml
    interval: 86400
  Netflix:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Netflix/Netflix_Classical.yaml
    path: ./ruleset/Netflix.yaml
    interval: 86400
  Microsoft:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
    path: ./ruleset/Microsoft.yaml
    interval: 86400
  Telegram:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
    path: ./ruleset/Telegram.yaml
    interval: 86400
  OpenAI:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OpenAI/OpenAI.yaml
    path: ./ruleset/OpenAI.yaml
    interval: 86400
  Twitter:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Twitter/Twitter.yaml
    path: ./ruleset/Twitter.yaml
    interval: 86400
  ChinaMedia:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/ChinaMedia/ChinaMedia.yaml
    path: ./ruleset/ChinaMedia.yaml
    interval: 86400
  GameDownload:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/GameDownload/GameDownload.yaml
    path: ./Rule/GameDownload.yaml
    interval: 86400
  GameDownloadCN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/GameDownloadCN/GameDownloadCN.yaml
    path: ./Rule/GameDownloadCN.yaml
    interval: 86400
  Epic:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Epic/Epic.yaml
    path: ./Rule/Epic.yaml
    interval: 86400
  Steam:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Steam/Steam.yaml
    path: ./ruleset/steam.yaml
    interval: 86400
  SteamCN:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/SteamCN/SteamCN.yaml
    path: ./ruleset/steamCN.yaml
    interval: 86400
  GlobalMedia: # å›½é™…åª’ä½“
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/GlobalMedia/GlobalMedia_Classical.yaml
    path: ./ruleset/GlobalMedia.yaml
    interval: 86400
  Proxy:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Proxy/Proxy_Classical.yaml
    path: ./ruleset/Proxy.yaml
    interval: 86400
  Instagram:
    type: http
    behavior: classical
    url: https://cdn.jsdelivr.net/gh/blackmatrix7/ios_rule_script@master/rule/Clash/Instagram/Instagram.yaml
    path: ./ruleset/Instagram.yaml
    interval: 86400
  Speedtest:
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Speedtest/Speedtest.yaml
    path: ./ruleset/Speedtest.yaml
    interval: 86400
  Lan: # å±€åŸŸç½‘
    type: http
    behavior: classical
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml
    path: ./ruleset/lan.yaml
    interval: 86400
rules:
  - DOMAIN-SUFFIX,copilot.microsoft.com,é¦™æ¸¯èŠ‚ç‚¹
  - DOMAIN-SUFFIX,ciciai.com,ç‹®åŸèŠ‚ç‚¹
  - DOMAIN-SUFFIX,cici.com,ç‹®åŸèŠ‚ç‚¹
  - DOMAIN-SUFFIX,anthropic.com,AI
  - DOMAIN-SUFFIX,perplexity.ai,AI
  - RULE-SET,Epic,DIRECT
  - RULE-SET,Steam,Steam
  - RULE-SET,SteamCN,DIRECT
  - RULE-SET,GameDownload,å›½å¤–è§†é¢‘
  - RULE-SET,GameDownloadCN,DIRECT
  - RULE-SET,Apple,Apple
  - RULE-SET,Google,Google
  - RULE-SET,Netflix,å›½å¤–è§†é¢‘
  - RULE-SET,Microsoft,Microsoft
  - RULE-SET,Telegram,Telegram
  - RULE-SET,OpenAI,AI
  - RULE-SET,ChinaMedia,DIRECT
  - RULE-SET,GlobalMedia,å›½å¤–è§†é¢‘
  - RULE-SET,Proxy,èŠ‚ç‚¹é€‰æ‹©
  - RULE-SET,Instagram,Instagram
  - RULE-SET,Speedtest,DIRECT
  - RULE-SET,Twitter,Twitter
  - RULE-SET,China,DIRECT
  - GEOSITE,gfw,èŠ‚ç‚¹é€‰æ‹© # GFWå…œåº•
  - GEOSITE,cn,DIRECT # ä¸­å›½åŸŸå
  - GEOIP,cn,DIRECT,no-resolve # ä¸­å›½IP
  - MATCH,æ¼ç½‘ä¹‹é±¼
